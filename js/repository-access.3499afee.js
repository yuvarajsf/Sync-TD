"use strict";(self["webpackChunkthreat_dragon"]=self["webpackChunkthreat_dragon"]||[]).push([[614],{2082:function(e,t,r){r.d(t,{A:function(){return p}});var i=function(){var e=this,t=e._self._c;return t("b-container",{attrs:{fluid:""}},[t("b-row",[t("b-col",[t("b-jumbotron",{staticClass:"text-center"},[t("h4",[e._t("default")],2)])],1)],1),t("b-row",[t("b-col",{attrs:{md:"6",offset:"3"}},[t("b-form",[t("b-form-row",[t("b-col",[t("b-form-group",{attrs:{id:"filter-group"}},[t("b-form-input",{attrs:{id:"filter",placeholder:e.$t("forms.search")},model:{value:e.localFilter,callback:function(t){e.localFilter=t},expression:"localFilter"}})],1)],1)],1)],1)],1)],1),t("b-row",[t("b-col",{attrs:{md:"6",offset:"3"}},[t("b-list-group",[e.showBackItem?t("b-list-group-item",{attrs:{href:"javascript:void(0)"},on:{click:e.onBackClick}},[e._v(" ... ")]):e._e(),0===e.items.length&&e.emptyStateText?t("b-list-group-item",{attrs:{href:"javascript:void(0)"},on:{click:e.onEmptyStateClick}},[e._v(" "+e._s(e.emptyStateText)+" ")]):e._e(),e._l(e.displayedItems,(function(r,i){return t("b-list-group-item",{key:i,attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.onItemClick(r)}}},["string"===typeof r?t("span",[e._v(e._s(r))]):t("span",{staticClass:"d-flex justify-content-between align-items-center"},[e._v(" "+e._s(r.value)+" "),r.icon?t("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{icon:r.icon,title:e.$t(r.iconTooltip)||""}}):e._e()],1)])}))],2)],1)],1),t("b-row",[t("b-col",{attrs:{md:"6",offset:"3"}},[t("div",{staticClass:"pagination"},[t("button",{attrs:{disabled:!e.pagePrev},on:{click:function(t){return e.paginate(--e.pageRef)}}},[e._v("Previous")]),t("button",{staticClass:"btn",attrs:{"data-toggle":"buttons",disabled:!0}},[e._v(e._s(e.pageRef))]),t("button",{attrs:{disabled:!e.pageNext},on:{click:function(t){return e.paginate(++e.pageRef)}}},[e._v("Next")])])])],1)],1)},o=[],a={name:"TdSelectionPage",data(){return{pageRef:this.page,localFilter:this.filter}},watch:{filter(e){this.localFilter=e},localFilter(e){this.$emit("update:filter",e)}},props:{filter:{required:!1,type:String,default:""},items:{required:!0,type:Array,validator:e=>e.every((e=>"string"===typeof e||e.value&&"string"===typeof e.value&&(!e.icon||"string"===typeof e.icon)&&(!e.iconTooltip||"string"===typeof e.iconTooltip&&e.icon)))},page:{required:!1,type:Number,default:1},pageNext:{required:!1,type:Boolean,default:!1},pagePrev:{required:!1,type:Boolean,default:!1},paginate:{required:!1,type:Function},onItemClick:{required:!0,type:Function},emptyStateText:{required:!1,type:String},onEmptyStateClick:{required:!1,type:Function,default:()=>{}},showBackItem:{required:!1,type:Boolean,default:!1},onBackClick:{required:!1,type:Function,default:()=>{}},isGoogleProvider:{required:!1,type:Boolean,default:!1}},computed:{displayedItems:function(){return this.filter?this.$props.isGoogleProvider?this.items.filter((e=>e.name.toLowerCase().includes(this.filter.toLowerCase()))):(console.log(this.items),this.items.filter((e=>(e.value||e).toLowerCase().includes(this.filter.toLowerCase())))):this.items}}},s=a,n=r(1656),l=(0,n.A)(s,i,o,!1,null,null,null),p=l.exports},7939:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var i=function(){var e=this,t=e._self._c;return t("td-selection-page",{attrs:{filter:e.searchQuery,items:e.repositories,page:e.page,pageNext:e.pageNext,pagePrev:e.pagePrev,onItemClick:e.onRepoClick,paginate:e.paginate,emptyStateText:`${e.$t("repository.noneFound")} ${e.$t("providers."+e.provider+".displayName")}`},on:{"update:filter":function(t){e.searchQuery=t}}},[e._v(" "+e._s(e.$t("repository.select"))+" "+e._s(e.$t(`providers.${e.provider}.displayName`))+" "+e._s(e.$t("repository.from"))+" ")])},o=[],a=r(5353),s=r(4023),n=r(5332),l=r(2317),p=r(2082),c={name:"RepositoryAccess",components:{TdSelectionPage:p.A},data(){return{searchQuery:"",searchTimeout:null}},computed:(0,a.aH)({provider:e=>e.provider.selected,providerType:e=>(0,s.sG)(e.provider.selected),repositories:e=>e.repo.all,page:e=>Number(e.repo.page),pageNext:e=>e.repo.pageNext,pagePrev:e=>e.repo.pagePrev}),watch:{searchQuery(e){clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout((()=>{console.log("Suche nach:",e),this.$store.dispatch(l.Ay.fetch,{page:1,searchQuery:e})}),500)}},mounted(){this.provider!==this.$route.params.provider&&this.$store.dispatch(n.Ay.selected,this.$route.params.provider);let e=1;this.$route.query.page&&(e=this.$route.query.page),this.$store.dispatch(l.Ay.fetch,e)},methods:{onRepoClick(e){this.$store.dispatch(l.Ay.selected,e);const t=Object.assign({},this.$route.params,{repository:e});this.$router.push({name:`${this.providerType}Branch`,params:t,query:this.$route.query})},paginate(e){this.$store.dispatch(l.Ay.fetch,e,this.searchQuery)}}},u=c,d=r(1656),f=(0,d.A)(u,i,o,!1,null,null,null),h=f.exports}}]);
//# sourceMappingURL=repository-access.3499afee.js.map