{"version":3,"file":"js/threatmodel-select.2370334d.js","mappings":"yJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACG,YAAY,eAAe,CAACH,EAAG,KAAK,CAACF,EAAIM,GAAG,YAAY,MAAM,IAAI,GAAGJ,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,IAAI,OAAS,MAAM,CAACF,EAAG,SAAS,CAACA,EAAG,aAAa,CAACA,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,GAAK,iBAAiB,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,GAAK,SAAS,YAAcJ,EAAIO,GAAG,iBAAiBC,MAAM,CAACC,MAAOT,EAAIU,YAAaC,SAAS,SAAUC,GAAMZ,EAAIU,YAAYE,CAAG,EAAEC,WAAW,kBAAkB,IAAI,IAAI,IAAI,IAAI,IAAI,GAAGX,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,IAAI,OAAS,MAAM,CAACF,EAAG,eAAe,CAAEF,EAAIc,aAAcZ,EAAG,oBAAoB,CAACE,MAAM,CAAC,KAAO,sBAAsBW,GAAG,CAAC,MAAQf,EAAIgB,cAAc,CAAChB,EAAIiB,GAAG,WAAWjB,EAAIkB,KAA2B,IAArBlB,EAAImB,MAAMC,QAAkBpB,EAAIqB,eAAgBnB,EAAG,oBAAoB,CAACE,MAAM,CAAC,KAAO,sBAAsBW,GAAG,CAAC,MAAQf,EAAIsB,oBAAoB,CAACtB,EAAIiB,GAAG,IAAIjB,EAAIuB,GAAGvB,EAAIqB,gBAAgB,OAAOrB,EAAIkB,KAAKlB,EAAIwB,GAAIxB,EAAIyB,gBAAgB,SAASC,EAAKC,GAAK,OAAOzB,EAAG,oBAAoB,CAAC0B,IAAID,EAAIvB,MAAM,CAAC,KAAO,sBAAsBW,GAAG,CAAC,MAAQ,SAASc,GAAQ,OAAO7B,EAAI8B,YAAYJ,EAAK,IAAI,CAAkB,kBAATA,EAAmBxB,EAAG,OAAO,CAACF,EAAIiB,GAAGjB,EAAIuB,GAAGG,MAASxB,EAAG,OAAO,CAACG,YAAY,qDAAqD,CAACL,EAAIiB,GAAG,IAAIjB,EAAIuB,GAAGG,EAAKjB,OAAO,KAAMiB,EAAKK,KAAM7B,EAAG,oBAAoB,CAAC8B,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,oBAAoBC,UAAU,CAAC,OAAQ,KAAQ/B,MAAM,CAAC,KAAOsB,EAAKK,KAAK,MAAQ/B,EAAIO,GAAGmB,EAAKU,cAAgB,MAAMpC,EAAIkB,MAAM,IAAI,KAAI,IAAI,IAAI,GAAGhB,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,IAAI,OAAS,MAAM,CAACF,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,SAAS,CAACE,MAAM,CAAC,UAAYJ,EAAIqC,UAAUtB,GAAG,CAAC,MAAQ,SAASc,GAAQ,OAAO7B,EAAIsC,WAAWtC,EAAIuC,QAAQ,IAAI,CAACvC,EAAIiB,GAAG,cAAcf,EAAG,SAAS,CAACG,YAAY,MAAMD,MAAM,CAAC,cAAc,UAAU,UAAW,IAAO,CAACJ,EAAIiB,GAAGjB,EAAIuB,GAAGvB,EAAIuC,YAAYrC,EAAG,SAAS,CAACE,MAAM,CAAC,UAAYJ,EAAIwC,UAAUzB,GAAG,CAAC,MAAQ,SAASc,GAAQ,OAAO7B,EAAIsC,WAAWtC,EAAIuC,QAAQ,IAAI,CAACvC,EAAIiB,GAAG,eAAe,IAAI,EACn/D,EACIwB,EAAkB,GC6EtB,GACAR,KAAA,kBACAS,IAAAA,GACA,OACAH,QAAA,KAAAI,KACAjC,YAAA,KAAAkC,OAEA,EACAC,MAAA,CACAD,MAAAA,CAAAE,GACA,KAAApC,YAAAoC,CACA,EACApC,WAAAA,CAAAoC,GACA,KAAAC,MAAA,gBAAAD,EACA,GAEAE,MAAA,CACAJ,OAAA,CACAK,UAAA,EACAC,KAAAC,OACAC,QAAA,IAEAjC,MAAA,CACA8B,UAAA,EACAC,KAAAG,MACAC,UAAA7C,GACAA,EAAA8C,OAAA7B,GACA,kBAAAA,GAAAA,EAAAjB,OAAA,kBAAAiB,EAAAjB,SACAiB,EAAAK,MAAA,kBAAAL,EAAAK,SACAL,EAAAU,aAAA,kBAAAV,EAAAU,aAAAV,EAAAK,SAIAY,KAAA,CACAM,UAAA,EACAC,KAAAM,OACAJ,QAAA,GAEAZ,SAAA,CACAS,UAAA,EACAC,KAAAO,QACAL,SAAA,GAEAf,SAAA,CACAY,UAAA,EACAC,KAAAO,QACAL,SAAA,GAEAd,SAAA,CACAW,UAAA,EACAC,KAAAQ,UAEA5B,YAAA,CACAmB,UAAA,EACAC,KAAAQ,UAEArC,eAAA,CACA4B,UAAA,EACAC,KAAAC,QAEA7B,kBAAA,CACA2B,UAAA,EACAC,KAAAQ,SACAN,QAAAA,QAGAtC,aAAA,CACAmC,UAAA,EACAC,KAAAO,QACAL,SAAA,GAEApC,YAAA,CACAiC,UAAA,EACAC,KAAAQ,SACAN,QAAAA,QAGAO,iBAAA,CACAV,UAAA,EACAC,KAAAO,QACAL,SAAA,IAGAQ,SAAA,CACAnC,eAAA,WACA,YAAAmB,OAGA,KAAAiB,OAAAF,iBACA,KAAAxC,MAAAyB,QAAAkB,GAAAA,EAAA7B,KAAA8B,cAAAC,SAAA,KAAApB,OAAAmB,kBAEAE,QAAAC,IAAA,KAAA/C,OACA,KAAAA,MAAAyB,QAAAkB,IAAAA,EAAArD,OAAAqD,GAAAC,cAAAC,SAAA,KAAApB,OAAAmB,kBANA,KAAA5C,KAQA,IC7K4P,I,UCOxPgD,GAAY,OACd,EACApE,EACA0C,GACA,EACA,KACA,KACA,MAIF,EAAe0B,EAAiB,O,oEClBhC,IAAIpE,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,oBAAoB,CAACE,MAAM,CAAC,MAAQJ,EAAIoE,aAAa,YAAcpE,EAAIqE,mBAAmB,eAAiBrE,EAAIO,GAAG,oCAAoC,kBAAoBP,EAAIsE,iBAAiB,CAACtE,EAAIiB,GAAG,IAAIjB,EAAIuB,GAAGvB,EAAIO,GAAG,6BAA6B,KAAKL,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,GAAGJ,EAAIuE,eAAevE,EAAIwE,WAAW,OAAS,SAAS,IAAM,wBAAwB,CAACxE,EAAIiB,GAAGjB,EAAIuB,GAAG,GAAGvB,EAAIwE,YAAYxE,EAAIyE,aAAazE,EAAIiB,GAAG,IAAIjB,EAAIuB,GAAGvB,EAAIO,GAAG,2BAA2B,KAAKL,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,qBAAqB,GAAK,oBAAoBW,GAAG,CAAC,MAAQf,EAAI0E,oBAAoB,CAAC1E,EAAIiB,GAAGjB,EAAIuB,GAAGvB,EAAIO,GAAG,gCAAgCP,EAAIiB,GAAG,IAAIjB,EAAIuB,GAAGvB,EAAIO,GAAG,yBAAyB,KAAKL,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,qBAAqB,GAAK,kBAAkBW,GAAG,CAAC,MAAQf,EAAI2E,kBAAkB,CAAC3E,EAAIiB,GAAGjB,EAAIuB,GAAGvB,EAAIO,GAAG,8BAA8BP,EAAIiB,GAAG,IAAIjB,EAAIuB,GAAGvB,EAAIO,GAAG,yBAAyB,KAAKL,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,qBAAqB,GAAK,oBAAoBW,GAAG,CAAC,MAAQf,EAAIsE,iBAAiB,CAACtE,EAAIiB,GAAGjB,EAAIuB,GAAGvB,EAAIO,GAAG,yCACvjC,EACIkC,EAAkB,G,sEC8BtB,GACAR,KAAA,oBACA2C,WAAA,CACAC,gBAAAA,EAAAA,GAEAjB,UAAAkB,EAAAA,EAAAA,IAAA,CACAL,OAAAM,GAAAA,EAAAN,OAAAO,SACAC,SAAAF,GAAAA,EAAAE,SAAAD,SACAE,aAAAH,IAAAI,EAAAA,EAAAA,IAAAJ,EAAAE,SAAAD,UACAT,YAAAQ,GAAAA,EAAAE,SAAAV,YACAC,SAAAO,GAAAA,EAAAK,KAAAJ,SACAZ,aAAAW,GAAAA,EAAAM,YAAAC,IACAC,cAAAR,GAAAA,EAAAM,YAAA3C,OAEA8C,OAAAA,GACA,KAAAP,WAAA,KAAAQ,OAAAC,OAAAT,UACA,KAAAU,OAAAC,SAAAC,EAAAA,GAAAb,SAAA,KAAAS,OAAAC,OAAAT,UAGA,KAAAT,WAAA,KAAAiB,OAAAC,OAAAI,YACA,KAAAH,OAAAC,SAAAG,EAAAA,GAAAf,SAAA,KAAAS,OAAAC,OAAAI,YAGA,KAAArB,SAAA,KAAAgB,OAAAC,OAAAjB,QACA,KAAAkB,OAAAC,SAAAI,EAAAA,GAAAhB,SAAA,KAAAS,OAAAC,OAAAjB,QAGA,KAAAkB,OAAAC,SAAAK,EAAAA,GAAAC,SACA,EACAC,QAAA,CACAzB,iBAAAA,GACA,KAAAiB,OAAAC,SAAAI,EAAAA,GAAAI,OACA,KAAAC,QAAAC,KAAA,CAAArE,KAAA,YAAAyD,OAAA,CAAAT,SAAA,KAAAA,SAAAa,WAAA,KAAAtB,WACA,EACAG,eAAAA,GACA,KAAAgB,OAAAC,SAAAG,EAAAA,GAAAK,OACA,KAAAC,QAAAC,KAAA,CAAArE,KAAA,gBAAAyD,OAAA,CAAAT,SAAA,KAAAA,WACA,EACA,wBAAAZ,CAAAgB,SACA,KAAAM,OAAAC,SAAAK,EAAAA,GAAAM,MAAAlB,GACA,MAAAK,EAAAc,OAAAC,OAAA,QAAAhB,OAAAC,OAAA,CAAAL,gBACA,KAAAM,OAAAC,SAAAK,EAAAA,GAAAjB,SAAA,KAAAO,eACA,KAAAc,QAAAC,KAAA,CAAArE,KAAA,QAAAiD,0BAAAQ,UACA,EACApB,cAAAA,GACA,KAAAqB,OAAAC,SAAAK,EAAAA,GAAAG,OACA,MAAAM,EAAA,CACAC,QAAA,QACAC,QAAA,CACAC,MAAA,mBACAC,MAAA,GACAC,YAAA,GACAC,GAAA,GAEAC,OAAA,CACAC,aAAA,GACAC,SAAA,GACAC,WAAA,EACAC,SAAA,GACAC,UAAA,IAGA,KAAA3B,OAAAC,SAAAK,EAAAA,GAAAsB,OAAAb,GACA,MAAAhB,EAAAc,OAAAC,OAAA,QAAAhB,OAAAC,OAAA,CACAL,YAAAqB,EAAAE,QAAAC,QAEA,KAAAR,QAAAC,KAAA,CAAArE,KAAA,QAAAiD,8BAAAQ,UACA,ICnGyQ,I,UCOrQvB,GAAY,OACd,EACApE,EACA0C,GACA,EACA,KACA,KACA,MAIF,EAAe0B,EAAiB,O","sources":["webpack://threat-dragon/./src/components/SelectionPage.vue","webpack://threat-dragon/src/components/SelectionPage.vue","webpack://threat-dragon/./src/components/SelectionPage.vue?0935","webpack://threat-dragon/./src/components/SelectionPage.vue?c8c9","webpack://threat-dragon/./src/views/git/ThreatModelSelect.vue","webpack://threat-dragon/src/views/git/ThreatModelSelect.vue","webpack://threat-dragon/./src/views/git/ThreatModelSelect.vue?a19c","webpack://threat-dragon/./src/views/git/ThreatModelSelect.vue?bfa9"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',[_c('b-jumbotron',{staticClass:\"text-center\"},[_c('h4',[_vm._t(\"default\")],2)])],1)],1),_c('b-row',[_c('b-col',{attrs:{\"md\":\"6\",\"offset\":\"3\"}},[_c('b-form',[_c('b-form-row',[_c('b-col',[_c('b-form-group',{attrs:{\"id\":\"filter-group\"}},[_c('b-form-input',{attrs:{\"id\":\"filter\",\"placeholder\":_vm.$t('forms.search')},model:{value:(_vm.localFilter),callback:function ($$v) {_vm.localFilter=$$v},expression:\"localFilter\"}})],1)],1)],1)],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"md\":\"6\",\"offset\":\"3\"}},[_c('b-list-group',[(_vm.showBackItem)?_c('b-list-group-item',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":_vm.onBackClick}},[_vm._v(\" ... \")]):_vm._e(),(_vm.items.length === 0 && !!_vm.emptyStateText)?_c('b-list-group-item',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":_vm.onEmptyStateClick}},[_vm._v(\" \"+_vm._s(_vm.emptyStateText)+\" \")]):_vm._e(),_vm._l((_vm.displayedItems),function(item,idx){return _c('b-list-group-item',{key:idx,attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.onItemClick(item)}}},[(typeof item === 'string')?_c('span',[_vm._v(_vm._s(item))]):_c('span',{staticClass:\"d-flex justify-content-between align-items-center\"},[_vm._v(\" \"+_vm._s(item.value)+\" \"),(item.icon)?_c('font-awesome-icon',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"icon\":item.icon,\"title\":_vm.$t(item.iconTooltip) || ''}}):_vm._e()],1)])})],2)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"md\":\"6\",\"offset\":\"3\"}},[_c('div',{staticClass:\"pagination\"},[_c('button',{attrs:{\"disabled\":!_vm.pagePrev},on:{\"click\":function($event){return _vm.paginate(--_vm.pageRef)}}},[_vm._v(\"Previous\")]),_c('button',{staticClass:\"btn\",attrs:{\"data-toggle\":\"buttons\",\"disabled\":true}},[_vm._v(_vm._s(_vm.pageRef))]),_c('button',{attrs:{\"disabled\":!_vm.pageNext},on:{\"click\":function($event){return _vm.paginate(++_vm.pageRef)}}},[_vm._v(\"Next\")])])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-container fluid>\r\n        <b-row>\r\n            <b-col>\r\n                <b-jumbotron class=\"text-center\">\r\n                    <h4>\r\n                        <slot></slot>\r\n                    </h4>\r\n                </b-jumbotron>\r\n            </b-col>\r\n        </b-row>\r\n        <b-row>\r\n            <b-col md=6 offset=3>\r\n                <b-form>\r\n                    <b-form-row>\r\n                        <b-col>\r\n                            <b-form-group id=\"filter-group\">\r\n                                <b-form-input\r\n                                    id=\"filter\"\r\n                                    v-model=\"localFilter\"\r\n                                    :placeholder=\"$t('forms.search')\"\r\n                                ></b-form-input>\r\n                            </b-form-group>\r\n                        </b-col>\r\n                    </b-form-row>\r\n                </b-form>\r\n            </b-col>\r\n        </b-row>\r\n\r\n        <b-row>\r\n            <b-col md=6 offset=3>\r\n                <b-list-group>\r\n                    <b-list-group-item\r\n                        v-if=\"showBackItem\"\r\n                        href=\"javascript:void(0)\"\r\n                        @click=\"onBackClick\">\r\n                        ...\r\n                    </b-list-group-item>\r\n\r\n                    <b-list-group-item\r\n                        v-if=\"items.length === 0 && !!emptyStateText\"\r\n                        @click=\"onEmptyStateClick\"\r\n                        href=\"javascript:void(0)\">\r\n                        {{ emptyStateText }}\r\n                    </b-list-group-item>\r\n\r\n                    <b-list-group-item\r\n                        v-for=\"(item, idx) in displayedItems\"\r\n                        :key=\"idx\"\r\n                        href=\"javascript:void(0)\"\r\n                        @click=\"onItemClick(item)\">\r\n                        <span v-if=\"typeof item === 'string'\">{{ item }}</span>\r\n                        <span v-else class=\"d-flex justify-content-between align-items-center\">\r\n                            {{ item.value }}\r\n                            <font-awesome-icon\r\n                                v-if=\"item.icon\"\r\n                                :icon=\"item.icon\"\r\n                                v-b-tooltip.hover\r\n                                :title=\"$t(item.iconTooltip) || ''\"\r\n                            ></font-awesome-icon>\r\n                        </span>\r\n                    </b-list-group-item>\r\n                </b-list-group>\r\n            </b-col>\r\n        </b-row>\r\n\r\n        <b-row>\r\n            <b-col md=6 offset=3>\r\n                <div class=\"pagination\">\r\n                    <button @click=\"paginate(--pageRef)\" :disabled=\"!pagePrev\">Previous</button>\r\n                    <button class=\"btn\" data-toggle=\"buttons\" :disabled=\"true\">{{ pageRef }}</button>\r\n                    <button @click=\"paginate(++pageRef)\" :disabled=\"!pageNext\">Next</button>\r\n                </div>\r\n            </b-col>\r\n        </b-row>\r\n    </b-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'TdSelectionPage',\r\n    data() {\r\n        return {\r\n            pageRef: this.page,\r\n            localFilter: this.filter\r\n        };\r\n    },\r\n    watch: {\r\n        filter(newFilter) {\r\n            this.localFilter = newFilter;\r\n        },\r\n        localFilter(newFilter) {\r\n            this.$emit('update:filter', newFilter);\r\n        }\r\n    },\r\n    props: {\r\n        filter: {\r\n            required: false,\r\n            type: String,\r\n            default: ''\r\n        },\r\n        items: {\r\n            required: true,\r\n            type: Array,\r\n            validator: (value) => {\r\n                return value.every((item) => {\r\n                    return typeof item === 'string' || (item.value && typeof item.value === 'string')\r\n                        && (!item.icon || typeof item.icon === 'string')\r\n                        && (!item.iconTooltip || (typeof item.iconTooltip === 'string' && item.icon));\r\n                });\r\n            }\r\n        },\r\n        page: {\r\n            required: false,\r\n            type: Number,\r\n            default: 1\r\n        },\r\n        pageNext: {\r\n            required: false,\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        pagePrev: {\r\n            required: false,\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        paginate: {\r\n            required: false,\r\n            type: Function\r\n        },\r\n        onItemClick: {\r\n            required: true,\r\n            type: Function\r\n        },\r\n        emptyStateText: {\r\n            required: false,\r\n            type: String\r\n        },\r\n        onEmptyStateClick: {\r\n            required: false,\r\n            type: Function,\r\n            default: () => {\r\n            }\r\n        },\r\n        showBackItem: {\r\n            required: false,\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        onBackClick: {\r\n            required: false,\r\n            type: Function,\r\n            default: () => {\r\n            }\r\n        },\r\n        isGoogleProvider: {\r\n            required: false,\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    computed: {\r\n        displayedItems: function () {\r\n            if (!this.filter) {\r\n                return this.items;\r\n            }\r\n            if (this.$props.isGoogleProvider) {\r\n                return this.items.filter(x => x.name.toLowerCase().includes(this.filter.toLowerCase()));\r\n            } else {\r\n                console.log(this.items);\r\n                return this.items.filter(x => (x.value || x).toLowerCase().includes(this.filter.toLowerCase()));\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectionPage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectionPage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SelectionPage.vue?vue&type=template&id=371eb4ff\"\nimport script from \"./SelectionPage.vue?vue&type=script&lang=js\"\nexport * from \"./SelectionPage.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('td-selection-page',{attrs:{\"items\":_vm.threatModels,\"onItemClick\":_vm.onThreatmodelClick,\"emptyStateText\":_vm.$t('threatmodelSelect.newThreatModel'),\"onEmptyStateClick\":_vm.newThreatModel}},[_vm._v(\" \"+_vm._s(_vm.$t('threatmodelSelect.select'))+\" \"),_c('a',{attrs:{\"href\":`${_vm.providerUri}/${_vm.repoName}`,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(_vm._s(`${_vm.repoName}/${_vm.branch}`))]),_vm._v(\" \"+_vm._s(_vm.$t('threatmodelSelect.from'))+\" \"),_c('a',{attrs:{\"href\":\"javascript:void(0)\",\"id\":\"return-to-branch\"},on:{\"click\":_vm.selectBranchClick}},[_vm._v(_vm._s(_vm.$t('threatmodelSelect.branch')))]),_vm._v(\" \"+_vm._s(_vm.$t('threatmodelSelect.or'))+\" \"),_c('a',{attrs:{\"href\":\"javascript:void(0)\",\"id\":\"return-to-repo\"},on:{\"click\":_vm.selectRepoClick}},[_vm._v(_vm._s(_vm.$t('threatmodelSelect.repo')))]),_vm._v(\" \"+_vm._s(_vm.$t('threatmodelSelect.or'))+\" \"),_c('a',{attrs:{\"href\":\"javascript:void(0)\",\"id\":\"new-threat-model\"},on:{\"click\":_vm.newThreatModel}},[_vm._v(_vm._s(_vm.$t('threatmodelSelect.newThreatModel')))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <td-selection-page\r\n        :items=\"threatModels\"\r\n        :onItemClick=\"onThreatmodelClick\"\r\n        :emptyStateText=\"$t('threatmodelSelect.newThreatModel')\"\r\n        :onEmptyStateClick=\"newThreatModel\">\r\n            {{ $t('threatmodelSelect.select') }}\r\n            <!-- Fixme: The href should get the configured hostname from env -->\r\n            <a\r\n                :href=\"`${providerUri}/${repoName}`\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n            >{{ `${repoName}/${branch}` }}</a>\r\n            {{ $t('threatmodelSelect.from') }}\r\n            <a href=\"javascript:void(0)\" id=\"return-to-branch\" @click=\"selectBranchClick\">{{ $t('threatmodelSelect.branch') }}</a>\r\n            {{ $t('threatmodelSelect.or') }}\r\n            <a href=\"javascript:void(0)\" id=\"return-to-repo\" @click=\"selectRepoClick\">{{ $t('threatmodelSelect.repo') }}</a>\r\n            {{ $t('threatmodelSelect.or') }}\r\n            <a href=\"javascript:void(0)\" id=\"new-threat-model\" @click=\"newThreatModel\">{{ $t('threatmodelSelect.newThreatModel') }}</a>\r\n    </td-selection-page>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\n\r\nimport branchActions from '@/store/actions/branch.js';\r\nimport { getProviderType } from '@/service/provider/providers.js';\r\nimport providerActions from '@/store/actions/provider.js';\r\nimport repoActions from '@/store/actions/repository.js';\r\nimport TdSelectionPage from '@/components/SelectionPage.vue';\r\nimport tmActions from '@/store/actions/threatmodel.js';\r\n\r\nexport default {\r\n    name: 'ThreatModelSelect',\r\n    components: {\r\n        TdSelectionPage\r\n    },\r\n    computed: mapState({\r\n        branch: (state) => state.branch.selected,\r\n        provider: (state) => state.provider.selected,\r\n        providerType: (state) => getProviderType(state.provider.selected),\r\n        providerUri: (state) => state.provider.providerUri,\r\n        repoName: (state) => state.repo.selected,\r\n        threatModels: (state) => state.threatmodel.all,\r\n        selectedModel: (state) => state.threatmodel.data\r\n    }),\r\n    mounted() {\r\n        if (this.provider !== this.$route.params.provider) {\r\n            this.$store.dispatch(providerActions.selected, this.$route.params.provider);\r\n        }\r\n        \r\n        if (this.repoName !== this.$route.params.repository) {\r\n            this.$store.dispatch(repoActions.selected, this.$route.params.repository);\r\n        }\r\n\r\n        if (this.branch !== this.$route.params.branch) {\r\n            this.$store.dispatch(branchActions.selected, this.$route.params.branch);\r\n        }\r\n\r\n        this.$store.dispatch(tmActions.fetchAll);\r\n    },\r\n    methods: {\r\n        selectBranchClick() {\r\n            this.$store.dispatch(branchActions.clear);\r\n            this.$router.push({ name: 'gitBranch', params: { provider: this.provider, repository: this.repoName }});\r\n        },\r\n        selectRepoClick() {\r\n            this.$store.dispatch(repoActions.clear);\r\n            this.$router.push({ name: 'gitRepository', params: { provider: this.provider }});\r\n        },\r\n        async onThreatmodelClick(threatmodel) {\r\n            await this.$store.dispatch(tmActions.fetch, threatmodel);\r\n            const params = Object.assign({}, this.$route.params, { threatmodel });\r\n            this.$store.dispatch(tmActions.selected, this.selectedModel);\r\n            this.$router.push({ name: `${this.providerType}ThreatModel`, params });\r\n        },\r\n        newThreatModel() {\r\n            this.$store.dispatch(tmActions.clear);\r\n            const newTm = {\r\n                version: '2.3.0',\r\n                summary: {\r\n                    title: 'New Threat Model',\r\n                    owner: '',\r\n                    description: '',\r\n                    id: 0\r\n                },\r\n                detail: {\r\n                    contributors: [],\r\n                    diagrams: [],\r\n                    diagramTop: 0,\r\n                    reviewer: '',\r\n                    threatTop: 0\r\n                }\r\n            };\r\n            this.$store.dispatch(tmActions.create, newTm);\r\n            const params = Object.assign({}, this.$route.params, {\r\n                threatmodel: newTm.summary.title\r\n            });\r\n            this.$router.push({ name: `${this.providerType}ThreatModelEdit`, params });\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ThreatModelSelect.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ThreatModelSelect.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ThreatModelSelect.vue?vue&type=template&id=5cb240a2\"\nimport script from \"./ThreatModelSelect.vue?vue&type=script&lang=js\"\nexport * from \"./ThreatModelSelect.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","staticClass","_t","$t","model","value","localFilter","callback","$$v","expression","showBackItem","on","onBackClick","_v","_e","items","length","emptyStateText","onEmptyStateClick","_s","_l","displayedItems","item","idx","key","$event","onItemClick","icon","directives","name","rawName","modifiers","iconTooltip","pagePrev","paginate","pageRef","pageNext","staticRenderFns","data","page","filter","watch","newFilter","$emit","props","required","type","String","default","Array","validator","every","Number","Boolean","Function","isGoogleProvider","computed","$props","x","toLowerCase","includes","console","log","component","threatModels","onThreatmodelClick","newThreatModel","providerUri","repoName","branch","selectBranchClick","selectRepoClick","components","TdSelectionPage","mapState","state","selected","provider","providerType","getProviderType","repo","threatmodel","all","selectedModel","mounted","$route","params","$store","dispatch","providerActions","repository","repoActions","branchActions","tmActions","fetchAll","methods","clear","$router","push","fetch","Object","assign","newTm","version","summary","title","owner","description","id","detail","contributors","diagrams","diagramTop","reviewer","threatTop","create"],"sourceRoot":""}