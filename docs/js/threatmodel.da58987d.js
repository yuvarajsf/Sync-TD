(self["webpackChunkthreat_dragon"]=self["webpackChunkthreat_dragon"]||[]).push([[226],{2831:function(t,e,r){"use strict";r.d(e,{A:function(){return l}});var i=function(){var t=this,e=t._self._c;return e("b-btn",{class:{"td-primary-btn":t.isPrimary,"td-default-btn":!t.isPrimary},attrs:{variant:t.isPrimary?"primary":"secondary"},on:{click:t.onBtnClick}},[t.icon?e("font-awesome-icon",{attrs:{icon:[t.iconPreface,t.icon]}}):t._e(),t._v(" "+t._s(t.text)+" ")],1)},a=[],o={name:"TdFormButton",props:{onBtnClick:{type:Function,required:!0},icon:{type:String,required:!1},iconPreface:{type:String,default:"fas",required:!1},text:{type:String,required:!0},isPrimary:{type:Boolean,required:!1,default:!1}}},s=o,n=r(1656),d=(0,n.A)(s,i,a,!1,null,"0e945f2a",null),l=d.exports},1110:function(t,e,r){"use strict";r.d(e,{A:function(){return f}});var i=function(){var t=this,e=t._self._c;return e("td-key-value-card",{attrs:{title:`${t.titlePrefix?t.titlePrefix+" ":""}${t.model.summary.title}`,values:t.overviewCardData}})},a=[],o=r(5353),s=function(){var t=this,e=t._self._c;return e("b-card",{attrs:{header:t.title}},[e("b-row",{staticClass:"td-card"},t._l(t.values,(function(r,i){return e("b-col",{key:i,attrs:{md:"2"}},[e("div",[e("strong",[t._v(t._s(r.key)+":")])]),e("div",[t._v(" "+t._s(r.value)+" ")])])})),1)],1)},n=[],d={name:"TdKeyValueCard",props:{title:String,values:Array}},l=d,u=r(1656),c=(0,u.A)(l,s,n,!1,null,"62de48c2",null),m=c.exports,p={name:"TdThreatModelSummaryCard",components:{TdKeyValueCard:m},computed:{...(0,o.aH)({model:t=>t.threatmodel.data}),overviewCardData:function(){const t=[];return t.push({key:this.$t("threatmodel.owner"),value:this.model.summary.owner}),t.push({key:this.$t("threatmodel.reviewer"),value:this.model.detail.reviewer}),t.push({key:this.$t("threatmodel.contributors"),value:this.model.detail.contributors.map((t=>t.name)).join(", ")}),t}},props:{titlePrefix:{type:String,required:!1}}},h=p,g=(0,u.A)(h,i,a,!1,null,null,null),f=g.exports},175:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return t.model&&t.model.summary?e("div",[e("b-row",{staticClass:"mb-4",attrs:{id:"title_row"}},[e("b-col",[e("td-threat-model-summary-card")],1)],1),e("b-row",{staticClass:"mb-4"},[e("b-col",[e("b-card",{attrs:{header:t.$t("threatmodel.description")}},[e("b-row",{staticClass:"tm-card"},[e("b-col",[e("p",{attrs:{id:"tm_description"}},[t._v(t._s(t.model.summary.description))])])],1)],1)],1)],1),e("b-row",{staticClass:"mb-4"},t._l(t.model.detail.diagrams,(function(i,a){return e("b-col",{key:a,staticClass:"tm_diagram",attrs:{lg:"3"}},[e("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[e("h6",{staticClass:"diagram-header-text"},[e("a",{staticClass:"diagram-edit",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.editDiagram(i)}}},[t._v(" "+t._s(i.title)+" ")])])]},proxy:!0}],null,!0)},[e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.editDiagram(i)}}},[e("b-img-lazy",{staticClass:"m-auto d-block td-diagram-thumb",attrs:{src:r(290)(`./${i.thumbnail?i.thumbnail.split("/").pop():"thumbnail.jpg"}`),alt:i.title}})],1),i.description?e("h6",{staticClass:"diagram-description-text"},[t._v(" "+t._s(i.description)+" ")]):t._e()])],1)})),1),e("b-row",[e("b-col",{staticClass:"text-right"},[e("b-btn-group",[e("td-form-button",{attrs:{id:"td-edit-btn",isPrimary:!0,onBtnClick:t.onEditClick,icon:"edit",text:t.$t("forms.edit")}}),e("td-form-button",{attrs:{id:"td-report-btn",onBtnClick:t.onReportClick,icon:"file-alt",text:t.$t("forms.report")}}),e("td-form-button",{attrs:{id:"td-close-btn",onBtnClick:t.onCloseClick,icon:"times",text:t.$t("forms.closeModel")}})],1)],1)],1)],1):t._e()},a=[],o=r(5353),s=r(9477),n=r(2831),d=r(1110),l=r(9888),u={name:"ThreatModel",components:{TdFormButton:n.A,TdThreatModelSummaryCard:d.A},computed:(0,o.aH)({model:t=>t.threatmodel.data,providerType:t=>(0,s.sG)(t.provider.selected),version:t=>t.packageBuildVersion}),methods:{onEditClick(t){t.preventDefault(),this.$router.push({name:`${this.providerType}ThreatModelEdit`,params:this.$route.params})},onReportClick(t){t.preventDefault(),this.$router.push({name:`${this.providerType}Report`,params:this.$route.params})},onCloseClick(t){t.preventDefault(),this.$store.dispatch(l.Ay.clear),this.$router.push("/dashboard")},getThumbnailUrl(t){return t&&t.diagramType?`../assets/thumbnail.${t.diagramType.toLowerCase()}.jpg`:"../assets/thumbnail.jpg"},editDiagram(t){this.$store.dispatch(l.Ay.diagramSelected,t);const e=`${this.$route.path}/edit/${encodeURIComponent(t.title)}`;this.$router.push(e)}},mounted(){let t=void 0===this.model.detail.threatTop?100:this.model.detail.threatTop,e=void 0===this.model.detail.diagramTop?10:this.model.detail.diagramTop,r={diagramTop:e,version:this.version,threatTop:t};console.debug("updates: "+JSON.stringify(r)),this.$store.dispatch(l.Ay.update,r),this.$store.dispatch(l.Ay.notModified)}},c=u,m=r(1656),p=(0,m.A)(c,i,a,!1,null,"540c106d",null),h=p.exports},290:function(t,e,r){var i={"./owasp.svg":432,"./threatdragon_logo.svg":7999,"./threatdragon_logo_image.svg":1905,"./threatdragon_logo_solid_image.svg":9933,"./thumbnail.cia.jpg":6861,"./thumbnail.die.jpg":2106,"./thumbnail.jpg":446,"./thumbnail.linddun.jpg":492,"./thumbnail.plot4ai.jpg":5445,"./thumbnail.stride.jpg":9429};function a(t){var e=o(t);return r(e)}function o(t){if(!r.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=o,t.exports=a,a.id=290},7999:function(t,e,r){"use strict";t.exports=r.p+"img/threatdragon_logo.4a6a2649.svg"},9933:function(t,e,r){"use strict";t.exports=r.p+"img/threatdragon_logo_solid_image.7dd1a745.svg"},6861:function(t,e,r){"use strict";t.exports=r.p+"img/thumbnail.cia.c97b0a32.jpg"},2106:function(t,e,r){"use strict";t.exports=r.p+"img/thumbnail.die.f2717271.jpg"},446:function(t,e,r){"use strict";t.exports=r.p+"img/thumbnail.6af3059e.jpg"},492:function(t,e,r){"use strict";t.exports=r.p+"img/thumbnail.linddun.85d829c5.jpg"},5445:function(t,e,r){"use strict";t.exports=r.p+"img/thumbnail.plot4ai.5281b582.jpg"},9429:function(t,e,r){"use strict";t.exports=r.p+"img/thumbnail.stride.ea1e84c4.jpg"}}]);
//# sourceMappingURL=threatmodel.da58987d.js.map