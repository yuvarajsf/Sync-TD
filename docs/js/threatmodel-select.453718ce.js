"use strict";(self["webpackChunkthreat_dragon"]=self["webpackChunkthreat_dragon"]||[]).push([[955],{722:function(e,t,r){r.d(t,{A:function(){return c}});var o=function(){var e=this,t=e._self._c;return t("b-container",{attrs:{fluid:""}},[t("b-row",[t("b-col",[t("b-jumbotron",{staticClass:"text-center"},[t("h4",[e._t("default")],2)])],1)],1),t("b-row",[t("b-col",{attrs:{md:"6",offset:"3"}},[t("b-form",[t("b-form-row",[t("b-col",[t("b-form-group",{attrs:{id:"filter-group"}},[t("b-form-input",{attrs:{id:"filter",placeholder:e.$t("forms.search")},model:{value:e.localFilter,callback:function(t){e.localFilter=t},expression:"localFilter"}})],1)],1)],1)],1)],1)],1),t("b-row",[t("b-col",{attrs:{md:"6",offset:"3"}},[t("b-list-group",[e.showBackItem?t("b-list-group-item",{attrs:{href:"javascript:void(0)"},on:{click:e.onBackClick}},[e._v(" ... ")]):e._e(),0===e.items.length&&e.emptyStateText?t("b-list-group-item",{attrs:{href:"javascript:void(0)"},on:{click:e.onEmptyStateClick}},[e._v(" "+e._s(e.emptyStateText)+" ")]):e._e(),e._l(e.displayedItems,(function(r,o){return t("b-list-group-item",{key:o,attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.onItemClick(r)}}},["string"===typeof r?t("span",[e._v(e._s(r))]):t("span",{staticClass:"d-flex justify-content-between align-items-center"},[e._v(" "+e._s(r.value)+" "),r.icon?t("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{icon:r.icon,title:e.$t(r.iconTooltip)||""}}):e._e()],1)])}))],2)],1)],1),t("b-row",[t("b-col",{attrs:{md:"6",offset:"3"}},[t("div",{staticClass:"pagination"},[t("button",{attrs:{disabled:!e.pagePrev},on:{click:function(t){return e.paginate(--e.pageRef)}}},[e._v("Previous")]),t("button",{staticClass:"btn",attrs:{"data-toggle":"buttons",disabled:!0}},[e._v(e._s(e.pageRef))]),t("button",{attrs:{disabled:!e.pageNext},on:{click:function(t){return e.paginate(++e.pageRef)}}},[e._v("Next")])])])],1)],1)},i=[],a={name:"TdSelectionPage",data(){return{pageRef:this.page,localFilter:this.filter}},watch:{filter(e){this.localFilter=e},localFilter(e){this.$emit("update:filter",e)}},props:{filter:{required:!1,type:String,default:""},items:{required:!0,type:Array,validator:e=>e.every((e=>"string"===typeof e||e.value&&"string"===typeof e.value&&(!e.icon||"string"===typeof e.icon)&&(!e.iconTooltip||"string"===typeof e.iconTooltip&&e.icon)))},page:{required:!1,type:Number,default:1},pageNext:{required:!1,type:Boolean,default:!1},pagePrev:{required:!1,type:Boolean,default:!1},paginate:{required:!1,type:Function},onItemClick:{required:!0,type:Function},emptyStateText:{required:!1,type:String},onEmptyStateClick:{required:!1,type:Function,default:()=>{}},showBackItem:{required:!1,type:Boolean,default:!1},onBackClick:{required:!1,type:Function,default:()=>{}},isGoogleProvider:{required:!1,type:Boolean,default:!1}},computed:{displayedItems:function(){return this.filter?this.$props.isGoogleProvider?this.items.filter((e=>e.name.toLowerCase().includes(this.filter.toLowerCase()))):(console.log(this.items),this.items.filter((e=>(e.value||e).toLowerCase().includes(this.filter.toLowerCase())))):this.items}}},s=a,l=r(1656),n=(0,l.A)(s,o,i,!1,null,null,null),c=n.exports},1949:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var o=function(){var e=this,t=e._self._c;return t("td-selection-page",{attrs:{items:e.threatModels,onItemClick:e.onThreatmodelClick,emptyStateText:e.$t("threatmodelSelect.newThreatModel"),onEmptyStateClick:e.newThreatModel}},[e._v(" "+e._s(e.$t("threatmodelSelect.select"))+" "),t("a",{attrs:{href:`${e.providerUri}/${e.repoName}`,target:"_blank",rel:"noopener noreferrer"}},[e._v(e._s(`${e.repoName}/${e.branch}`))]),e._v(" "+e._s(e.$t("threatmodelSelect.from"))+" "),t("a",{attrs:{href:"javascript:void(0)",id:"return-to-branch"},on:{click:e.selectBranchClick}},[e._v(e._s(e.$t("threatmodelSelect.branch")))]),e._v(" "+e._s(e.$t("threatmodelSelect.or"))+" "),t("a",{attrs:{href:"javascript:void(0)",id:"return-to-repo"},on:{click:e.selectRepoClick}},[e._v(e._s(e.$t("threatmodelSelect.repo")))]),e._v(" "+e._s(e.$t("threatmodelSelect.or"))+" "),t("a",{attrs:{href:"javascript:void(0)",id:"new-threat-model"},on:{click:e.newThreatModel}},[e._v(e._s(e.$t("threatmodelSelect.newThreatModel")))])])},i=[],a=r(5353),s=r(1125),l=r(9477),n=r(9436),c=r(8837),d=r(722),p=r(9888),h={name:"ThreatModelSelect",components:{TdSelectionPage:d.A},computed:(0,a.aH)({branch:e=>e.branch.selected,provider:e=>e.provider.selected,providerType:e=>(0,l.sG)(e.provider.selected),providerUri:e=>e.provider.providerUri,repoName:e=>e.repo.selected,threatModels:e=>e.threatmodel.all,selectedModel:e=>e.threatmodel.data}),mounted(){this.provider!==this.$route.params.provider&&this.$store.dispatch(n.Ay.selected,this.$route.params.provider),this.repoName!==this.$route.params.repository&&this.$store.dispatch(c.Ay.selected,this.$route.params.repository),this.branch!==this.$route.params.branch&&this.$store.dispatch(s.Ay.selected,this.$route.params.branch),this.$store.dispatch(p.Ay.fetchAll)},methods:{selectBranchClick(){this.$store.dispatch(s.Ay.clear),this.$router.push({name:"gitBranch",params:{provider:this.provider,repository:this.repoName}})},selectRepoClick(){this.$store.dispatch(c.Ay.clear),this.$router.push({name:"gitRepository",params:{provider:this.provider}})},async onThreatmodelClick(e){await this.$store.dispatch(p.Ay.fetch,e);const t=Object.assign({},this.$route.params,{threatmodel:e});this.$store.dispatch(p.Ay.selected,this.selectedModel),this.$router.push({name:`${this.providerType}ThreatModel`,params:t})},newThreatModel(){this.$store.dispatch(p.Ay.clear);const e={version:"2.3.0",summary:{title:"New Threat Model",owner:"",description:"",id:0},detail:{contributors:[],diagrams:[],diagramTop:0,reviewer:"",threatTop:0}};this.$store.dispatch(p.Ay.create,e);const t=Object.assign({},this.$route.params,{threatmodel:e.summary.title});this.$router.push({name:`${this.providerType}ThreatModelEdit`,params:t})}}},u=h,m=r(1656),f=(0,m.A)(u,o,i,!1,null,null,null),v=f.exports}}]);
//# sourceMappingURL=threatmodel-select.453718ce.js.map