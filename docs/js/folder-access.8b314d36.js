"use strict";(self["webpackChunkthreat_dragon"]=self["webpackChunkthreat_dragon"]||[]).push([[70],{722:function(e,t,r){r.d(t,{A:function(){return c}});var o=function(){var e=this,t=e._self._c;return t("b-container",{attrs:{fluid:""}},[t("b-row",[t("b-col",[t("b-jumbotron",{staticClass:"text-center"},[t("h4",[e._t("default")],2)])],1)],1),t("b-row",[t("b-col",{attrs:{md:"6",offset:"3"}},[t("b-form",[t("b-form-row",[t("b-col",[t("b-form-group",{attrs:{id:"filter-group"}},[t("b-form-input",{attrs:{id:"filter",placeholder:e.$t("forms.search")},model:{value:e.localFilter,callback:function(t){e.localFilter=t},expression:"localFilter"}})],1)],1)],1)],1)],1)],1),t("b-row",[t("b-col",{attrs:{md:"6",offset:"3"}},[t("b-list-group",[e.showBackItem?t("b-list-group-item",{attrs:{href:"javascript:void(0)"},on:{click:e.onBackClick}},[e._v(" ... ")]):e._e(),0===e.items.length&&e.emptyStateText?t("b-list-group-item",{attrs:{href:"javascript:void(0)"},on:{click:e.onEmptyStateClick}},[e._v(" "+e._s(e.emptyStateText)+" ")]):e._e(),e._l(e.displayedItems,(function(r,o){return t("b-list-group-item",{key:o,attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.onItemClick(r)}}},["string"===typeof r?t("span",[e._v(e._s(r))]):t("span",{staticClass:"d-flex justify-content-between align-items-center"},[e._v(" "+e._s(r.value)+" "),r.icon?t("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{icon:r.icon,title:e.$t(r.iconTooltip)||""}}):e._e()],1)])}))],2)],1)],1),t("b-row",[t("b-col",{attrs:{md:"6",offset:"3"}},[t("div",{staticClass:"pagination"},[t("button",{attrs:{disabled:!e.pagePrev},on:{click:function(t){return e.paginate(--e.pageRef)}}},[e._v("Previous")]),t("button",{staticClass:"btn",attrs:{"data-toggle":"buttons",disabled:!0}},[e._v(e._s(e.pageRef))]),t("button",{attrs:{disabled:!e.pageNext},on:{click:function(t){return e.paginate(++e.pageRef)}}},[e._v("Next")])])])],1)],1)},i=[],a={name:"TdSelectionPage",data(){return{pageRef:this.page,localFilter:this.filter}},watch:{filter(e){this.localFilter=e},localFilter(e){this.$emit("update:filter",e)}},props:{filter:{required:!1,type:String,default:""},items:{required:!0,type:Array,validator:e=>e.every((e=>"string"===typeof e||e.value&&"string"===typeof e.value&&(!e.icon||"string"===typeof e.icon)&&(!e.iconTooltip||"string"===typeof e.iconTooltip&&e.icon)))},page:{required:!1,type:Number,default:1},pageNext:{required:!1,type:Boolean,default:!1},pagePrev:{required:!1,type:Boolean,default:!1},paginate:{required:!1,type:Function},onItemClick:{required:!0,type:Function},emptyStateText:{required:!1,type:String},onEmptyStateClick:{required:!1,type:Function,default:()=>{}},showBackItem:{required:!1,type:Boolean,default:!1},onBackClick:{required:!1,type:Function,default:()=>{}},isGoogleProvider:{required:!1,type:Boolean,default:!1}},computed:{displayedItems:function(){return this.filter?this.$props.isGoogleProvider?this.items.filter((e=>e.name.toLowerCase().includes(this.filter.toLowerCase()))):(console.log(this.items),this.items.filter((e=>(e.value||e).toLowerCase().includes(this.filter.toLowerCase())))):this.items}}},s=a,l=r(1656),n=(0,l.A)(s,o,i,!1,null,null,null),c=n.exports},794:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var o=function(){var e=this,t=e._self._c;return t("td-selection-page",{attrs:{items:e.folders,page:e.page,pageNext:e.pageNext,pagePrev:e.pagePrev,onItemClick:e.onFolderClick,onBackClick:e.navigateBack,paginate:e.paginate,showBackItem:!!e.parentId,isGoogleProvider:"",emptyStateText:`${e.$t("folder.noneFound")}`}},[e._v(" "+e._s(e.$t("folder.select"))+" "+e._s(e.$t(`providers.${e.provider}.displayName`))+" "+e._s(e.$t("folder.from"))+" "+e._s(e.$t("threatmodelSelect.or"))+" "),t("a",{attrs:{href:"javascript:void(0)",id:"new-threat-model"},on:{click:function(t){return e.newThreatModel(e.selected)}}},[e._v(e._s(e.$t("threatmodelSelect.newThreatModel")))])])},i=[],a=r(5353),s=r(9477),l=r(9436),n=r(9445),c=r(722),d=r(9888),p={name:"DriveAccess",components:{TdSelectionPage:c.A},computed:(0,a.aH)({provider:e=>e.provider.selected,providerType:e=>(0,s.sG)(e.provider.selected),folders:e=>e.folder.all,selected:e=>e.folder.selected,page:e=>e.folder.page,pageNext:e=>e.folder.pageNext,pagePrev:e=>e.folder.pagePrev,parentId:e=>e.folder.parentId,selectedModel:e=>e.threatmodel.data}),mounted(){this.provider!==this.$route.params.provider&&this.$store.dispatch(l.Ay.selected,this.$route.params.provider);let e=1;this.$route.query.page&&(e=this.$route.query.page),this.$store.dispatch(n.Ay.fetch,{page:e})},methods:{async onFolderClick(e){const t=this.selected;if(this.$store.dispatch(n.Ay.selected,e),"application/json"==e.mimeType){await this.$store.dispatch(d.Ay.fetch,e.id);const r=Object.assign({},this.$route.params,{folder:t,threatmodel:e.name});this.$store.dispatch(d.Ay.selected,this.selectedModel),this.$router.push({name:`${this.providerType}ThreatModel`,params:r})}},paginate(e){this.$store.dispatch(n.Ay.fetch,{page:e})},navigateBack(){this.$store.dispatch(n.Ay.navigateBack)},newThreatModel(e){const t=Object.assign({},this.$route.params,{folder:e}),r=`${this.providerType}${"create"===this.$route.query.action?"NewThreatModel":"ThreatModelSelect"}`;this.$router.push({name:r,params:t})}}},u=p,f=r(1656),h=(0,f.A)(u,o,i,!1,null,null,null),m=h.exports}}]);
//# sourceMappingURL=folder-access.8b314d36.js.map